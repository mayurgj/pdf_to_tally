# -*- coding: utf-8 -*-
issuer: Duncan Engineering Limited
keywords:
  - PURCHASE ORDER
  - Duncan Engineering
required_fields:
  - order_number
  - date
fields: 
  order_number:
    parser: regex
    regex: 
      - PO\s+No.\s+:\s+(\S+)\s+
  date:
    parser: regex
    regex: 
      - Date\s+:\s+(\d{2}-\d{2}-\d{4})\s+
    type: date
  delivery_date:
    parser: static
    value: "null"
  payment_terms:
    parser: static
    value: "30 Days"
  bill_to:
    parser: regex
    area: {f: 1, l: 1, x: 234, y: 55, r: 144, W: 745, H: 122}
    regex:
      - '\s+Factory\s+Address\s+(.+)'
  ship_to:
    parser: regex
    area: {f: 1, l: 1, x: 234, y: 55, r: 144, W: 745, H: 122}
    regex:
      - '\s+Factory\s+Address\s+(.+)'
  gst_code:
    parser: static
    value: 27
    type: int
  tax_amount:
    parser:  regex
    regex: 
      - \s+CGST\s+[0-9,]+\.\d+\s+[0-9]+\.\d+\s+([0-9,]+\.\d{2})\s+[0-9,]+\.\d{2}
      - \s+SGST\s+[0-9,]+\.\d+\s+[0-9]+\.\d+\s+([0-9,]+\.\d{2})\s+[0-9,]+\.\d{2}
    type: float
    group: sum
  total_amount:
    parser: regex
    regex: 
      - Total\s+Amount\s+:\s+([0-9,]+\.\d{2})
    type: float
  lines:
    parser: lines
    start: Rate\s+for\s+Qty\s+Amount\s+
    end: \s+Basic\s+Amount
    first_line: 
      - (?P<line_no>\d{1,2})\s+(?P<description>.+)(?P<due_on>)\s+\d+\s+NOS\s+(?P<quantity>\d+\.?\d*)\s+(?P<rate>[0-9,]+\.\d{2,4})\s+\d+\.\d+\s+(?P<discount>)(?P<value>[0-9,]+\.\d{2})
    last_line: 
      - (?P<due_on>\d{2}-\d{2}-\d{4})
    line: (?P<description>[\s\S].+)$
    types:
      line_no: int
      due_on: date
      quantity: int
      rate: float
      discount: float
      value: float
options:
  currency: INR
  date_formats:
    - '%d/%m/%Y'
  languages:
    - en
  replace: 
    - ['Revision\s*:[a-zA-Z0-9,.\s]*Taxes\s+\W+\s+age\s+Amount\s+Result\s+Schedule\s+Date\s+Schedule\s+Qty\.\s+CGST\s[0-9,.\s]{1,19}\.\d{2}','Â ']
